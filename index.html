<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Persediaan</title>

  <link rel="stylesheet" href="persediaan.css">

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="persediaan.js" defer></script>
</head>
<body>

<div class="page-header">
  <h2>Persediaan</h2>
</div>

<div class="inventory-layout">

  <!-- =================================================
       FILTER SIDEBAR (DESKTOP)
       MOBILE: otomatis hide via CSS
  ================================================== -->
  <aside class="inventory-filter">

    <h4>Filter</h4>

    <!-- SEARCH (DESKTOP) -->
    <div class="search-card">
      <input id="filterSearch" placeholder="Cari produk / SKU">
    </div>

    <!-- STATUS STOK -->
    <div class="filter-group">
      <div class="filter-title">Status Stok</div>
      <label class="check-row"><span>Habis</span><input type="checkbox" class="chk-stok" value="HABIS"></label>
      <label class="check-row"><span>Kritis</span><input type="checkbox" class="chk-stok" value="KRITIS"></label>
      <label class="check-row"><span>Menipis</span><input type="checkbox" class="chk-stok" value="MENIPIS"></label>
      <label class="check-row"><span>Aman</span><input type="checkbox" class="chk-stok" value="AMAN"></label>
    </div>

    <!-- STATUS PO -->
    <div class="filter-group">
      <div class="filter-title">Status PO</div>
      <label class="check-row"><span>PO Darurat</span><input type="checkbox" class="chk-po" value="po_darurat"></label>
      <label class="check-row"><span>PO Segera</span><input type="checkbox" class="chk-po" value="po_segera"></label>
      <label class="check-row"><span>PO Siaga</span><input type="checkbox" class="chk-po" value="po_siaga"></label>
      <label class="check-row"><span>Tahan PO</span><input type="checkbox" class="chk-po" value="tahan_po"></label>
      <label class="check-row"><span>Tidak PO</span><input type="checkbox" class="chk-po" value="tidak_po"></label>
    </div>

    <button id="btnApply" class="btn-apply">Terapkan</button>
  </aside>

  <!-- =================================================
       KONTEN UTAMA
  ================================================== -->
  <section class="inventory-content">

    <!-- ===============================
         MOBILE SEARCH CONTAINER
         DESKTOP: normal
         MOBILE: acuan layout
    ================================ -->
    <div class="mobile-container">
      <div class="search-card">
        <input id="filterSearch" placeholder="Cari produk / SKU">
      </div>
    </div>

    <!-- ===============================
         INVENTORY HEADER
         SORT + PO + PERIODE
    ================================ -->
    <div class="inv-sortbar" id="invSortBar">

      <div class="inv-sort-main">
        <button class="inv-sort-btn active" data-sort="best">ðŸ”¥ Terlaris</button>
        <button class="inv-sort-btn" data-sort="az">Aâ€“Z</button>
        <button class="inv-sort-btn" data-sort="stockdesc">Stok Terbanyak</button>
      </div>

      <!-- SLOT STATUS PO -->
      <div class="inv-po-slot" id="invPoSlot"></div>

      <!-- PERIODE (DESKTOP ONLY) -->
      <div class="inv-sort-period" id="invBestPeriodBox">
        <span class="inv-period-label">Periode:</span>
        <button class="inv-period-btn" data-period="7d">7 Hari</button>
        <button class="inv-period-btn" data-period="30d">30 Hari</button>
        <button class="inv-period-btn" data-period="90d">90 Hari</button>
        <button class="inv-period-btn" data-period="180d">6 Bulan</button>
        <button class="inv-period-btn active" data-period="365d">1 Tahun</button>
      </div>

    </div>

    <!-- ===============================
         INVENTORY GRID
    ================================ -->
    <div class="table-wrapper inventory-wrapper">
      <div class="inventory-grid">

        <!-- HEADER (DESKTOP) -->
        <div class="inventory-grid-header col-product">Produk</div>
        <div class="inventory-grid-header col-stock">Stok</div>
        <div class="inventory-grid-header col-status-stok">Status Stok</div>
        <div class="inventory-grid-header col-status-po">Status PO</div>

        <!-- BODY -->
        <div id="inventoryBody" class="inventory-grid-body"></div>

      </div>
    </div>

    <!-- ===============================
         PAGINATION
    ================================ -->
    <div class="pagination-bar">
      <div class="page-size">
        Baris per halaman:
        <select id="pageSize">
          <option value="25">25</option>
          <option value="50">50</option>
          <option value="100">100</option>
          <option value="200">200</option>
        </select>
      </div>
      <div class="page-nav" id="pagination"></div>
    </div>

  </section>
</div>

</body>
</html>
